<div class="page">
  <header>
    <h1>Blitz Panda ♟</h1>
    <div class="spacer"></div>
    <a href="#" (click)="$event.preventDefault(); join()">Quick Start</a>
  </header>

  <section class="controls card">
    <div class="row">
      <label>Party ID <input [(ngModel)]="partyId" /></label>
      <label>User ID <input [(ngModel)]="userId" /></label>
      <label>Base (min) <input type="number" [(ngModel)]="baseMin" min="1" /></label>
      <label>Inc (sec) <input type="number" [(ngModel)]="incSec" min="0" /></label>
      <button (click)="join()">Join / Create</button>
    </div>
    <div class="status">{{ status }}</div>
  </section>

  <section class="board-area">
    <div class="left card">
      <div class="player">
        <div class="name">Black</div>
        <div class="clock">{{ ms(timeMs?.b) }}</div>
      </div>

      <app-board
        [fen]="fen || 'start'"
        [orientation]="orientation"
        (move)="onBoardMove($event)">
      </app-board>

      <div class="player">
        <div class="name">White</div>
        <div class="clock">{{ ms(timeMs?.w) }}</div>
      </div>

      <div class="actions">
        <button class="danger" (click)="resign()">Resign</button>
      </div>
    </div>

    <aside class="right card">
      <h3>Game</h3>
      <p><b>You are:</b> {{ userId === whiteId ? 'White' : (userId === blackId ? 'Black' : '—') }}</p>
      <p><b>Turn:</b> {{ turn === 'w' ? 'White' : (turn === 'b' ? 'Black' : '—') }}</p>
      <p><b>FEN:</b> <code>{{ fen || 'start' }}</code></p>
      <p class="muted">Open in another tab with a different User ID but the same Party ID.</p>
    </aside>
  </section>
</div>
